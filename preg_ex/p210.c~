#include <stdio.h>
#include <string.h>
#include <stdlib.h>

typedef struct{
  int id;
  char nume[101];
  int salar;
}Jucator;

typedef struct{
  char *nume;
  int nrJucatori;
  Jucator *jucatori;
}Echipa;

typedef struct{
  char *nume;
  int nrEchipe;
  Echipa *echipe;
}Campionat;

void adaugareJucator(Echipa *echipa){
  Jucator juc={0,"",0};
  int aux=scanf("%d %s %d",&(juc.id),juc.nume,&(juc.salar));
  if(aux!=3){
    printf("eroare citire jucator");
    exit(1);
  }

  echipa->jucatori=realloc(echipa->jucatori,(echipa->nrJucatori+1)*sizeof(Jucator));

  echipa->jucatori[echipa->nrJucatori]=juc;
  echipa->nrJucatori++;

  printf("\njucator adaugat\n");
  
  return;
}


void adaugareEchipa(Campionat *campionat){
  Echipa ech;
  ech.jucatori=NULL;
  char buffer[101];
  int aux=scanf("%s %d",buffer,&(ech.nrJucatori));
  
  if(aux!=2){
    printf("eroare citire jucator");
    exit(1);
  }
  
  ech.nume=malloc(strlen(buffer)+1);
  strcpy(ech.nume,buffer);

  printf("adauga %d jucatori",ech.nrJucatori);

  int nrj=ech.nrJucatori;
  
  for(int i=0 ; i<nrj ; i++){
    adaugareJucator(&ech);
  }

  campionat->echipe=realloc(campionat->echipe,(campionat->nrEchipe+1)*sizeof(Echipa));
  campionat->echipe[campionat->nrEchipe]=ech;
  campionat->nrEchipe++;
  
  return;
}



int main(){
  /*{
    Echipa e={"pula",0,NULL};
    adaugareJucator(&e);

    for(int i=0 ; i<e.nrJucatori ; i++){
      printf("%s",e.jucatori[i].nume);
    }
      
    }*/

  {
    Campionat camp={"liga pulii",0,NULL};
    adaugareEchipa(&camp);

    for(int i=0 ; i<camp.nrEchipe ; i++){
      printf("%s\n",camp.echipe[i].nume);
      for(int j=0 ; j<camp.echipe[i].nrJucatori ; j++){
	printf("%s\n",camp.echipe[i].jucatori[j].nume);
      }

      printf("\n");
    }
  }
}
